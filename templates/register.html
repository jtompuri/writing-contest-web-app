{% extends "base.html" %}

{% block title %}Rekisteröidy{% endblock %}

{% block content %}
<form action="/create" method="post" class="form-box">
    <input type="hidden" name="csrf_token" value="{{ session.csrf_token }}">

    <h1>Rekisteröidy</h1>

    <p>Rekisteröidy tai <a href="/login">kirjaudu sisään</a>, jos olet jo rekisteröitynyt.</p>

    {% for message in get_flashed_messages() %}
    <div class="flash-message" role="alert" aria-live="polite">
        {{ message }}
    </div>
    {% endfor %}

    <p>
        <label for="name">Nimi tai nimimerkki:</label>
        <input type="text" name="name" id="name"
               value="{{ session.get('form_data', {}).get('name', '') }}"
               maxlength="50" required autocomplete="name" />
    </p>
    <p>
        <label for="username">Sähköposti:</label>
        <input type="email" name="username" id="username"
               value="{{ session.get('form_data', {}).get('username', '') }}"
               maxlength="50" required autocomplete="email" />
    </p>
    <p>
        <label for="password1">Salasana:</label>
        <input type="password" name="password1" id="password1"
               maxlength="50" minlength="8" required aria-describedby="password-help" autocomplete="new-password" />
        <small id="password-help">Vähintään 8 merkkiä pitkä.</small>
    </p>
    <p>
        <label for="password2">Salasana uudestaan:</label>
        <input type="password" name="password2" id="password2"
               maxlength="50" required autocomplete="new-password" />
    </p>
    <p>
        <button type="submit" class="btn btn-primary">Luo tunnus</button>
    </p>
</form>
{% endblock %}